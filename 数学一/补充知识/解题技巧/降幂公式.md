降幂公式（Power-Reduction Formulas）是三角函数中一类非常重要的恒等式，其主要作用是将三角函数的**高次幂**表达式，转化为包含**多倍角**的**一次幂**三角函数表达式。这在求解积分时尤其有用，因为我们很容易对 `sin(kx)` 或 `cos(kx)` 进行积分，但直接对 `sinⁿ(x)` 或 `cosⁿ(x)` 积分则比较困难。

### 核心降幂公式 (平方项)

这些公式直接源于余弦的二倍角公式 `cos(2x)`。

**余弦的二倍角公式有三种形式：**
1.  `cos(2x) = cos²(x) - sin²(x)`
2.  `cos(2x) = 2cos²(x) - 1`
3.  `cos(2x) = 1 - 2sin²(x)`

通过对后两种形式进行移项，我们就能得到最常用的两个降幂公式：

1.  **余弦的降幂公式**
    从 `cos(2x) = 2cos²(x) - 1` 出发：
    `2cos²(x) = 1 + cos(2x)`
    $$ \cos^2 x = \frac{1 + \cos(2x)}{2} $$
    这个公式将 `cos` 的二次幂降为了一次幂。

2.  **正弦的降幂公式**
    从 `cos(2x) = 1 - 2sin²(x)` 出发：
    `2sin²(x) = 1 - cos(2x)`
    $$ \sin^2 x = \frac{1 - \cos(2x)}{2} $$
    这个公式将 `sin` 的二次幂降为了一次幂。

3.  **正切的降幂公式**
    这个公式不直接来自二倍角公式，而是来自毕达哥拉斯恒等式 `1 + tan²(x) = sec²(x)`。
    $$ \tan^2 x = \sec^2 x - 1 $$
    虽然 `sec²(x)` 仍然是二次幂，但这个形式在积分中极为有用，因为 `sec²(x)` 的积分是 `tan(x)`，是一个已知的基本积分。

### 高次幂的降幂公式

对于更高次幂（如立方、四次方等），我们可以通过迭代使用上述基本公式来推导。

#### 立方项 (3次幂)

对于奇数次幂，通常的做法是分离出一个一次项，然后利用 `sin²(x) + cos²(x) = 1`。
*   **sin³(x)**
    $$ \sin^3 x = \sin x \cdot \sin^2 x = \sin x \left( \frac{1 - \cos(2x)}{2} \right) = \frac{1}{2} (\sin x - \sin x \cos(2x)) $$
    (还可以使用积化和差公式进一步化简)

*   **cos³(x)**
    $$ \cos^3 x = \cos x \cdot \cos^2 x = \cos x \left( \frac{1 + \cos(2x)}{2} \right) = \frac{1}{2} (\cos x + \cos x \cos(2x)) $$

#### 四次项 (4次幂)

对于偶数次幂，我们连续使用降幂公式。
*   **sin⁴(x)**
    $$ \sin^4 x = (\sin^2 x)^2 = \left( \frac{1 - \cos(2x)}{2} \right)^2 = \frac{1}{4} (1 - 2\cos(2x) + \cos^2(2x)) $$
    我们发现又出现了 `cos²(2x)`，需要再次对其使用降幂公式：
    $$ \cos^2(2x) = \frac{1 + \cos(2 \cdot 2x)}{2} = \frac{1 + \cos(4x)}{2} $$
    代入上式得到最终结果：
    $$ \sin^4 x = \frac{1}{4} \left( 1 - 2\cos(2x) + \frac{1 + \cos(4x)}{2} \right) = \frac{1}{8} (3 - 4\cos(2x) + \cos(4x)) $$

*   **cos⁴(x)**
    用同样的方法：
    $$ \cos^4 x = (\cos^2 x)^2 = \left( \frac{1 + \cos(2x)}{2} \right)^2 = \frac{1}{4} (1 + 2\cos(2x) + \cos^2(2x)) $$
    代入 `cos²(2x)` 的降幂结果：
    $$ \cos^4 x = \frac{1}{4} \left( 1 + 2\cos(2x) + \frac{1 + \cos(4x)}{2} \right) = \frac{1}{8} (3 + 4\cos(2x) + \cos(4x)) $$

### 公式总结表

| 原始函数 | 降幂后的形式 |
| :---: | :--- |
| $$ \sin^2 x $$ | $$ \frac{1 - \cos(2x)}{2} $$ |
| $$ \cos^2 x $$ | $$ \frac{1 + \cos(2x)}{2} $$ |
| $$ \tan^2 x $$ | $$ \sec^2 x - 1 $$ |
| $$ \sin^3 x $$ | $$ \frac{3\sin x - \sin(3x)}{4} $$ (使用三倍角公式反推) |
| $$ \cos^3 x $$ | $$ \frac{3\cos x + \cos(3x)}{4} $$ (使用三倍角公式反推) |
| $$ \sin^4 x $$ | $$ \frac{3 - 4\cos(2x) + \cos(4x)}{8} $$ |
| $$ \cos^4 x $$ | $$ \frac{3 + 4\cos(2x) + \cos(4x)}{8} $$ |

**主要应用场景**：在微积分中，当你需要计算 $\int \sin^n x \,dx$ 或 $\int \cos^n x \,dx$ 时，降幂公式是你的首选工具，尤其是当 `n` 是偶数时。它能将一个复杂的幂函数积分问题转化为几个简单的三角函数积分问题。