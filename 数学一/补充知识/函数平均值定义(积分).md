### 1. 从离散到连续的思考

**算术平均值**

假设你有 $n$ 个离散的数值：$y_1, y_2, \dots, y_n$。它们的平均值是：
$\text{平均值} = \frac{y_1 + y_2 + \dots + y_n}{n} = \frac{1}{n}\sum_{i=1}^{n}y_i$

现在，我们想求一个**连续函数** $f(x)$ 在区间 $[a, b]$ 上的平均值。函数在区间上有无穷多个值，我们不能直接相加再除以“个数”。怎么办呢？

我们可以用“无限逼近”的思想，也就是微积分的核心思想：

1.  **采样**：我们将区间 $[a, b]$ 分成 $n$ 个非常小的、等宽的子区间，每个子区间的宽度为 $\Delta x = \frac{b-a}{n}$。
2.  **取值**：在每个小子区间内，我们任取一个点 $x_i^*$，得到函数值 $f(x_i^*)$。这样我们就得到了 $n$ 个样本值：$f(x_1^*), f(x_2^*), \dots, f(x_n^*)$。
3.  #近似平均值 ：这 $n$ 个样本值的算术平均值就是：
    $\text{近似平均值} \approx \frac{f(x_1^*) + f(x_2^*) + \dots + f(x_n^*)}{n} = \frac{1}{n}\sum_{i=1}^{n}f(x_i^*)$

### 2.    #函数平均值定义（积分）

上面的式子还不是积分的形式。我们做一个代换。因为 $\Delta x = \frac{b-a}{n}$，所以 $n = \frac{b-a}{\Delta x}$。代入上式：
$\text{近似平均值} \approx \frac{1}{(b-a)/\Delta x}\sum_{i=1}^{n}f(x_i^*) = \frac{1}{b-a}\sum_{i=1}^{n}f(x_i^*)\Delta x$

这个形式我们应该很熟悉了。$\sum_{i=1}^{n}f(x_i^*)\Delta x$ 正是**黎曼和 (Riemann Sum)** 的形式，它表示的是 $n$ 个窄矩形面积之和，用来近似曲线下的面积。

为了得到精确的平均值，我们需要让采样的点越来越多，也就是让 $n \to \infty$。当 $n \to \infty$ 时，$\Delta x \to 0$，黎曼和的极限就变成了定积分：
$\lim_{n \to \infty} \sum_{i=1}^{n}f(x_i^*)\Delta x = \int_{a}^{b}f(x)dx$

因此，函数 $f(x)$ 在 $[a, b]$ 上的精确平均值（用 $\bar{f}$ 表示）就是：
$\bar{f} = \lim_{n \to \infty} \frac{1}{b-a}\sum_{i=1}^{n}f(x_i^*)\Delta x = \frac{1}{b-a}\int_{a}^{b}f(x)dx$

这就是 #函数平均值定义（积分） 

### 3. 几何意义

这个定义有一个非常直观的几何解释。
我们将公式变形：
$\bar{f} \cdot (b-a) = \int_{a}^{b}f(x)dx$

*   **等式右边**：$\int_{a}^{b}f(x)dx$ 代表了函数曲线 $y=f(x)$ 与 x 轴、直线 $x=a$ 和 $x=b$ 所围成的**曲边梯形的面积**。
*   **等式左边**：$\bar{f}$ 是一个常数（平均高度），$(b-a)$ 是区间的宽度。所以 $\bar{f} \cdot (b-a)$ 代表一个**矩形的面积**，这个矩形的高度是 $\bar{f}$，宽度是 $(b-a)$。

所以，**函数的平均值 $\bar{f}$ 就是这样一个高度：以这个高度为高、以区间 $[a, b]$ 为底的矩形，其面积恰好等于原函数曲线下方的面积。**



