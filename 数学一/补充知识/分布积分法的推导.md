### 核心思想 (The Core Idea)

分部积分法本质上是乘积法则求导的“逆运算”。

*   **乘积法则求导**：教我们如何对两个函数的乘积进行**求导**。
*   **分部积分法**：教我们如何对两个函数的乘积进行**积分**（或者说，将一个复杂的乘积积分问题转化为一个可能更简单的积分问题）。

---

### 推导过程 (The Derivation)

#### 第一步：从乘积法则求导开始

我们从两个可微函数 $u(x)$ 和 $v(x)$ 的乘积的导数开始。根据乘积法则：
$$ \frac{d}{dx}[u(x)v(x)] = u(x)\frac{d v(x)}{dx} + v(x)\frac{d u(x)}{dx} $$
为了书写简洁，我们通常省略 $(x)$，并使用微分形式 $du = u'(x)dx$ 和 $dv = v'(x)dx$。上面的公式可以写成更简洁的形式：
$$ (uv)' = u'v + uv' $$

#### 第二步：对等式两边进行积分

现在，我们对这个等式的两边同时关于 $x$ 进行积分：
$$ \int \frac{d}{dx}[u(x)v(x)] \,dx = \int \left( u(x)\frac{dv}{dx} + v(x)\frac{du}{dx} \right) dx $$
根据积分的线性性质，右边的积分可以拆分成两部分：
$$ \int \frac{d}{dx}[u(x)v(x)] \,dx = \int u(x)\frac{dv}{dx} \,dx + \int v(x)\frac{du}{dx} \,dx $$

#### 第三步：化简积分表达式

现在我们来分别看等式两边的各项：

1.  **左边：** $\int \frac{d}{dx}[u(x)v(x)] \,dx$
    根据微积分基本定理，对一个函数的导数进行积分，会得到原函数（加上一个常数）。所以，这一项就等于 $u(x)v(x)$。
    $$ \int \frac{d}{dx}[u(x)v(x)] \,dx = u(x)v(x) $$

2.  **右边：**
    *   第一项：$\int u(x)\frac{dv}{dx} \,dx$。我们知道微分的定义是 $dv = \frac{dv}{dx}dx$。所以，这一项可以被写成 $\int u \,dv$。
    *   第二项：$\int v(x)\frac{du}{dx} \,dx$。同样，根据微分的定义 $du = \frac{du}{dx}dx$，这一项可以被写成 $\int v \,du$。

#### 第四步：重新整理等式

将上面化简后的各项代回到我们的积分等式中：
$$ uv = \int u \,dv + \int v \,du $$
最后，为了得到我们熟悉的分部积分公式，我们只需要将其中一个积分项移到等式的另一边。通常我们整理成求解 $\int u \,dv$ 的形式：
$$ \int u \,dv = uv - \int v \,du $$
这就是分部积分法的完整推导。我们通常忽略在推导过程中出现的积分常数 $C$，因为在最终计算右边的 $\int v \,du$ 时会自然地包含一个总的积分常数。

### 总结

分部积分法的推导可以概括为以下三个步骤：
1.  写出函数乘积 $uv$ 的求导法则。
2.  对整个求导法则等式两边进行积分。
3.  重新整理得到的积分等式，即可得到分部积分公式。