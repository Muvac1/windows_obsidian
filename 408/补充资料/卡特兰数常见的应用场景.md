#卡特兰数常见的应用场景  [[组合]]  
以下问题的答案都是第 $n$ 个卡特兰数 $C_n$：
	$C_n = \frac{1}{n+1}\binom{2n}{n}$    
	$$C_n=\frac{(2n)!}{n!(n+1)!}$$ 
这段内容的核心是**卡特兰数（Catalan Number）**在不同组合数学和算法问题中的同构应用。这些问题虽然表面场景不同，但本质上都遵循相同的递归逻辑，且答案都由卡特兰数公式给出。

以下是对您提供内容的系统化整理：

---

### 卡特兰数 (Catalan Number) 典型应用汇总

#### 1. 核心公式
对于问题规模为 $n$ 的情况，卡特兰数 $C_n$ 的通项公式为：
$$C_n = \frac{1}{n+1}\binom{2n}{n} = \frac{(2n)!}{(n+1)!n!}$$

> **通用例子**：当 $n=3$ 时，结果均为 $C_3 = \frac{1}{4}\binom{6}{3} = 5$ 种。

---

#### 2. 主要应用场景 ($C_n$)

这些场景直接对应 $C_n$：

**A. 线性序列类**
*   **进出栈序列（栈混洗）**
    *   **描述**：$n$ 个元素依次入栈，求合法的出栈序列总数。
    *   **示例**：入栈 `1,2,3`，出栈有 `123`, `132`, `213`, `231`, `321` 共5种。
*   **括号匹配问题**
    *   **描述**：$n$ 对括号 `()` 组成的合法序列（任意前缀中左括号数 $\ge$ 右括号数）。
    *   **本质**：左括号看作“入栈”，右括号看作“出栈”，与栈混洗完全等价。

**B. 树形结构类**
*   **二叉树的形态**
    *   **描述**：$n$ 个相同的节点能构成多少种不同形态的二叉树。
    *   **备注**：这也等同于“$n$ 个互异节点能构成多少种不同的二叉搜索树（BST）”，因为BST的中序遍历固定，结构确定则树唯一。

**C. 几何与路径类**
*   **凸多边形的三角剖分**
    *   **描述**：一个 **$n+2$ 边形**（顶点数为 $n+2$），通过互不相交的对角线划分成 $n$ 个三角形的方案数。
    *   **示例**：凸五边形（$n=3$）的划分方案为5种。
*   **网格路径 (Dyck Paths)**
    *   **描述**：在 $n \times n$ 网格中，从 $(0,0)$ 走到 $(n,n)$，只能向上或向右，且**不能穿过对角线**（即始终保持 $y \le x$ 或 $y \ge x$）的路径数。

---

#### 3. 变形应用场景 ($C_{n-1}$)

注意此场景下的 $n$ 指代不同，导致下标偏移：

*   **满二叉树（真二叉树）的叶子节点**
    *   **描述**：如果一棵满二叉树（节点度数要么为0，要么为2）拥有 **$n$ 个叶子节点**，求其形态数。
    *   **公式**：$C_{n-1}$
    *   **示例**：$3$ 个叶子节点的满二叉树，形态数为 $C_{2} = 2$ 种。

---

### 总结对照表

| 问题类型 | 关键参数 | 对应公式 | $n=3$ 时的结果 |
| :--- | :--- | :--- | :--- |
| **进出栈** | $n$ 个元素 | $C_n$ | 5 |
| **括号匹配** | $n$ 对括号 | $C_n$ | 5 |
| **二叉树形态** | $n$ 个节点 | $C_n$ | 5 |
| **多边形剖分** | $n+2$ 边形 | $C_n$ | 5 (对应五边形) |
| **网格路径** | $n \times n$ 网格 | $C_n$ | 5 |
| **满二叉树** | $n$ 个**叶子** | **$C_{n-1}$** | 2 |


建议记住前几个卡特兰数，以便在考试中快速解题或验证：
$C_0=1, C_1=1, C_2=2, C_3=5, C_4=14, C_5=42, ...$