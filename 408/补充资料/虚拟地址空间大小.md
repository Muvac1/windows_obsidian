#虚拟地址空间大小
虚拟地址空间的最大容量由 #CPU的位数 ）决定。
#地址总线的位数 
*   对于一个 $n$ 位的CPU，其可以产生的地址数量为 $2^n$ 个。
*   如果系统是按字节编址的，那么理论上最大的虚拟地址空间就是 $2^n$ 字节。
*   **公式**：$V_{max} = 2^N$ (Bytes)，其中 $N$ 是CPU地址总线的位数。
    *   例如，32位系统：$V_{max} = 2^{32} \text{ B} = 4 \text{ GB}$
    *   例如，64位系统：$V_{max} = 2^{64} \text{ B} = 16 \text{ EB}$ (Exabytes)
[[主存地址空间]]

[[地址总线宽度与地址总线位数]] 

假设你有一台 **64位CPU** 的电脑，地址总线是40位，安装了 **16 GB** 的物理内存(RAM)。

*   **主存地址空间上限：** 由40位地址总线决定，是 `2^40` Bytes = **1 TB**。这台电脑主板理论上最大支持1TB内存。
*   **实际物理内存大小：** **16 GB**。这是你的“国家”已经开发使用的领土。
*   **虚拟地址空间大小：** 由64位CPU决定，每个进程都可以拥有一个理论上高达 **16 EB** 的地址空间。这是发给每个“公民”的超级巨大的地图。

当你运行一个程序（比如Chrome浏览器）时：
1.  操作系统为Chrome创建了一个独立的、16 EB大小的虚拟地址空间（地图）。
2.  Chrome认为自己独占了这16 EB的内存。它访问一个虚拟地址，比如 `0x400000`。
3.  CPU的MMU（邮政系统）会查找一个**页表（Page Table）**，将这个虚拟地址 `0x400000` 翻译成一个真实的物理地址，比如 `0x81234000`（这在16GB的物理内存范围内）。
4.  如果Chrome需要比16GB更多的内存，操作系统会把一部分不常用的物理内存内容存到硬盘上（这个过程叫**交换/Swapping**），腾出空间来用。对Chrome来说，这个过程是透明的，它仍然以为自己在使用连续的内存。

**结论：**
*   **主存地址空间** 是硬件层面的**能力上限**。
*   **虚拟地址空间** 是操作系统为应用程序提供的**抽象服务**，它带来了**隔离、安全和便利**。