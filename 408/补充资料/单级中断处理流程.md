#### #单级中断处理流程 ：
中断的整个处理过程可以分为两个阶段： #中断隐指令阶段（硬件自动完成） 和 #中断服务程序阶段（软件执行）

1.  **中断响应（硬件阶段）**
    *   **① 关中断 (Disable Interrupts):** CPU检测到中断信号后，会立即自动将中断标志位置为“禁止”，防止在处理关键信息（如断点）时被新的中断打扰。这对应步骤 **III**。
    *   **② 保存断点 (Save Breakpoint):** 将当前程序计数器（PC）的内容（即下一条要执行指令的地址）压入堆栈。这样中断处理结束后才能返回到正确的位置继续执行。这对应步骤 **IV**。
    *   **③ 识别中断源并取中断服务程序入口地址:** CPU通过中断向量表（Interrupt Vector Table）找到对应中断源的服务程序的起始地址，并将其加载到PC中。

2.  **中断处理（软件阶段 - 中断服务程序 ISR）**
    *   **④ 保护现场 (Save Context):** 这是ISR的第一步。它将CPU中的各个通用寄存器、状态寄存器等内容压入堆栈。**“现场”**指的是被中断程序运行时的CPU状态，而**“断点”**特指PC值。保存断点由硬件完成，保护现场由软件完成。这对应步骤 **I**。
    *   **⑤ 中断事件处理 (Process Interrupt Event):** 执行ISR的核心代码，完成与中断源相关的具体任务（例如，从键盘缓冲区读取一个字符，将数据写入磁盘等）。这对应步骤 **V**。
    *   **⑥ 恢复现场 (Restore Context):** 将步骤④中保存到堆栈的寄存器内容弹回到对应的寄存器中，恢复被中断程序的环境。这对应步骤 **VI**。
    *   **⑦ 开中断 (Enable Interrupts):** 因为单级中断系统在处理全程是关中断的，所以在即将返回前，需要重新允许中断。这对应步骤 **II**。
    *   **⑧ 中断返回 (Return from Interrupt):** 执行一条特殊的中断返回指令（如`IRET`）。这条指令会自动将步骤②中保存的断点（PC值）从堆栈中弹出到PC，并将中断标志位恢复，使CPU返回到原来的程序继续执行。这对应步骤 **VII**。