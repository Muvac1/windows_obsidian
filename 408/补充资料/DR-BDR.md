#DR-BDR 
#制定路由器DR (Designated Router) 和 #备份制定路由器BDR (Backup Designated Router) 是在**多路访问网络 (Multi-access Network)**，如以太网交换网络上选举出来的两个特殊路由器。在这样的网络上，多个路由器连接到同一个广播域。


#DR-BDR作用  
想象一个以太网交换机连接了 5 台 OSPF 路由器。如果没有 DR/BDR 机制，为了同步 LSDB，每台路由器都需要与其他 4 台路由器建立**邻接关系 (Adjacency)**。
*   总的邻接关系数量为：$N(N-1)/2$
*   在这个例子中，就是 $5(5-1)/2 = 10$ 个邻接关系。
当任何一台路由器产生 LSA 更新时，它需要向其他 4 台都发送一遍。这会造成大量的重复 LSA 泛洪和不必要的网络流量，形成所谓的 #邻接关系风暴 。

#DR/BDR 机制通过创建一个“中心点”来解决这个问题 。所有非 DR/BDR 路由器（称为 DROther）只与 DR 和 BDR 建立完全的邻接关系。它们之间只保持简单的邻居关系 (2-Way state)，不交换 LSA。
*   当一个 DROther 路由器有更新时，它只把 LSA 发送给 DR（使用组播地址 224.0.0.6 - AllDRouters）。
*   然后，由 DR 负责将这个 LSA 泛洪给网段上的所有其他路由器（使用组播地址 224.0.0.5 - AllSPFRouters）。

这样，邻接关系的数量从 $O(N^2)$ 级别急剧下降到 $O(N)$ 级别，大大减少了 OSPF 协议流量，提高了网络效率。

#### (3) 选举过程
DR 和 BDR 的选举在多路访问网络上自动进行，选举规则如下：
1.  **比较接口的 OSPF 优先级 (Priority)**：
    *   每个接口都有一个可配置的 OSPF 优先级，范围是 0-255，默认值为 1。
    *   **优先级最高的路由器成为 DR**，第二高的成为 BDR。
    *   如果一个接口的优先级被设置为 **0**，则该路由器**不参与** DR/BDR 的选举。

2.  **比较路由器 ID (Router ID) 作为决胜局**：
    *   如果接口优先级相同，则比较路由器的 Router ID。
    *   **Router ID 最高的路由器成为 DR**，第二高的成为 BDR。
    *   Router ID 是一个 32 位的唯一标识符，通常是手动配置的，或者自动选择为环回接口 (Loopback) 中最高的 IP 地址，或者物理接口中最高的 IP 地址。

**重要特性：选举是非抢占的 (Non-preemptive)。**
一旦 DR 和 BDR 选举完成，它们就会一直保持这个角色，即使之后有更高优先级或更高 Router ID 的路由器加入网络。新的路由器只能等到现有的 DR 或 BDR 发生故障后，才能参与新一轮的选举。

**BDR 的作用**：BDR 是 DR 的热备份。它也监听所有 LSA 更新，并与所有路由器保持邻接关系。一旦当前的 DR 发生故障，BDR 会立即接管 DR 的角色，从而最大程度地减少网络中断时间。