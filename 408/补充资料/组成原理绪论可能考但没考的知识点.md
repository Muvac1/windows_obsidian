![[Pasted image 20251216213233.png]]

### 第一部分：计算机性能指标的计算

这部分主要考察 CPU 时间、CPI（每条指令周期数）、MIPS（每秒百万条指令）、主频之间的关系。

**核心公式回顾：**
1.  **CPU执行时间** = (指令条数 × CPI) / 主频
2.  **CPI** = (总时钟周期数) / 指令总数
3.  **MIPS** = 主频 / (CPI × $10^6$)
4.  **主频 (f)** = 1 / 时钟周期 (T)

#### 习题 1：加权 CPI 与执行时间的计算
**题目：**
某计算机的主频为 2GHz，其指令集包含 A、B、C 三类指令。程序中这三类指令的出现概率及各自的 CPI 如下表所示：

| 指令类型 | 出现概率 (Percentage) | CPI (Cycles Per Instruction) |
| :--- | :--- | :--- |
| A | 50% | 2 |
| B | 30% | 4 |
| C | 20% | 5 |

若该程序包含 $10^6$ 条指令，请计算：
(1) 该程序的平均 CPI。
(2) 该程序的 CPU 执行时间。
(3) 该计算机的 MIPS 值。

**解答：**
**(1) 计算平均 CPI：**
$$ \text{平均 CPI} = \sum (\text{各类指令概率} \times \text{各类指令CPI}) $$
$$ \text{平均 CPI} = 0.5 \times 2 + 0.3 \times 4 + 0.2 \times 5 $$
$$ \text{平均 CPI} = 1.0 + 1.2 + 1.0 = 3.2 $$

**(2) 计算 CPU 执行时间：**
已知指令条数 $I = 10^6$，主频 $f = 2\text{GHz} = 2 \times 10^9 \text{Hz}$
$$ \text{执行时间} t = \frac{\text{指令条数} \times \text{平均 CPI}}{\text{主频}} $$
$$ t = \frac{10^6 \times 3.2}{2 \times 10^9} $$
$$ t = \frac{3.2}{2000} = 0.0016 \text{秒} = 1.6 \text{ms} $$

**(3) 计算 MIPS：**
$$ \text{MIPS} = \frac{\text{主频}}{(\text{平均 CPI} \times 10^6)} $$
$$ \text{MIPS} = \frac{2 \times 10^9}{3.2 \times 10^6} $$
$$ \text{MIPS} = \frac{2000}{3.2} = 625 $$

---

#### 习题 2：性能比较（坑点题）
**题目：**
计算机 M1 的主频为 1.5GHz，CPI 为 1.5；计算机 M2 的主频为 2.0GHz，CPI 为 2.5。
(1) 哪个计算机的 MIPS 更高？
(2) 运行同一个包含大量的指令的程序，哪个计算机速度更快？

**解答：**
**(1) 比较 MIPS：**
$$ \text{MIPS}_{M1} = \frac{1.5 \times 10^9}{1.5 \times 10^6} = 1000 $$
$$ \text{MIPS}_{M2} = \frac{2.0 \times 10^9}{2.5 \times 10^6} = 800 $$
**结论：** M1 的 MIPS (1000) 高于 M2 (800)。

**(2) 比较速度（执行时间）：**
执行时间 $T = \frac{I \times \text{CPI}}{f}$。假设指令条数 $I$ 相同。
$$ T_{M1} = I \times \frac{1.5}{1.5 \times 10^9} = I \times 10^{-9} $$
$$ T_{M2} = I \times \frac{2.5}{2.0 \times 10^9} = I \times 1.25 \times 10^{-9} $$
因为 $T_{M1} < T_{M2}$，也就是 M1 用时更短。
**结论：** 计算机 M1 速度更快。
*(注：此题考察了“主频高不一定速度快”以及“MIPS高通常意味着速度快，但根本上取决于执行时间”的概念)*

---

### 第二部分：其他的基本概念

这部分通常涉及总线、存储器容量、字长、冯·诺依曼结构特点等基础但容易被忽略的定义。

#### 习题 3：字长、总线与寻址范围
**题目：**
假设某计算机的**字长为 32 位**，**地址总线宽度为 24 位**，**数据总线宽度为 32 位**。存储器按**字节**编址。
(1) 该计算机支持的最大主存容量是多少？
(2) 如果存储器改为按**字**编址，寻址范围是多少？

**解答：**
**(1) 按字节编址的主存容量：**
地址总线决定了可寻址的内存单元数量。
地址线 24 位 $\rightarrow$ 寻址空间 = $2^{24}$ 个单元。
因为是按字节（Byte）编址，每个单元存 1 Byte。
$$ \text{容量} = 2^{24} \text{ B} = 16 \text{ MB} $$

**(2) 按字编址的寻址范围：**
寻址范围是指能访问多少个存储单元（这里是字）。
地址线依然是 24 位，所以硬件上能输出 $2^{24}$ 个不同的地址码。
因此，寻址范围依然是 $2^{24}$ 个字（即 16M 个字）。
*(注意：如果是问按字编址时的总容量，则是 $2^{24} \times 32\text{bit} = 64\text{MB}$，但题目问的是寻址范围，通常指地址数量)*

---

#### 习题 4：冯·诺依曼结构与哈佛结构
**题目：**
下列关于冯·诺依曼计算机基本特点的描述中，**错误**的是（ ）。
A. 指令和数据都以二进制形式存放在存储器中
B. 指令和数据在存储器中不加区分地存放
C. 计算机由控制器、运算器、存储器、输入设备、输出设备五大部件组成
D. 指令和数据分别存放在两个独立的存储器中，拥有独立的总线

**解答：**
**答案：D**
**解析：**
*   **A、B、C** 均是冯·诺依曼结构（Von Neumann Architecture）的核心特点。特别是“存储程序”概念，即指令和数据混合存储，CPU 根据访问阶段（取指周期或执行周期）来区分取出来的是指令还是数据。
*   **D** 描述的是**哈佛结构（Harvard Architecture）**。哈佛结构将程序指令存储和数据存储分开，各有独立的总线，这在 DSP 和现代 CPU 的 L1 Cache 中常见，但不是原始冯·诺依曼结构的特点。

---

#### 习题 5：吞吐率与响应时间
**题目：**
简述计算机性能指标中“吞吐率”（Throughput）和“响应时间”（Response Time/Latency）的区别。对于批处理系统和实时系统，分别更关注哪个指标？

**解答：**
*   **响应时间**：指从用户发出请求到系统产生响应并输出结果所需的总时间。它关注的是单任务的完成速度。
*   **吞吐率**：指单位时间内系统处理的任务数量或数据量。它关注的是系统的整体处理能力。
*   **适用场景**：
    *   **批处理系统**（如大型科学计算）：更关注**吞吐率**，希望在单位时间内处理尽可能多的作业。
    *   **实时系统**（如航空控制、股票交易）：更关注**响应时间**，要求对外部事件做出极快的反应。

---

**备考建议：**
图片中提到的“真题尚未考过”，意味着命题人可能会回归课本最基础的定义（如习题4、5）或者进行简单的计算组合（如习题1）。复习时不要只盯着复杂的流水线或虚实地址转换，要确保这些“送分题”的公式和定义烂熟于心。