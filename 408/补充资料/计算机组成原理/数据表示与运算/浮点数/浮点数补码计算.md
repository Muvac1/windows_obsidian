![[Pasted image 20250730151507.png]]

浮点数运算在计算机中相对复杂，它模拟了我们日常使用的科学计数法。一个浮点数通常由三部分组成：符号位（Sign）、阶码（Exponent）和尾数（Mantissa）。其数值可以表示为：

$N = \text{符号} \times R^{\text{阶码}} \times \text{尾数}$

其中 $R$ 是基数，在计算机中通常为 2。

图片中的计算遵循一个特定的格式，我们首先要理解这个格式：

*   **表示方法**：阶码和尾数都使用**补码 (Two's Complement)** 表示。
*   **阶码** ($E$): 5 位，包含 2 位符号位。格式为 `ssxxx` (s=符号位, x=数值位)。
*   **尾数** ($M$): 7 位，包含 2 位符号位。格式为 `ssfffff` (s=符号位, f=小数位)。这表示尾数是一个纯小数。

使用两位符号位是计算机组成原理教学中一种常见的方法，它能方便地判断运算是否溢出：
*   `00`: 正数
*   `11`: 负数
*   `01`: 正向溢出（结果大于能表示的最大正数）
*   `10`: 负向溢出（结果小于能表示的最小负数）

---

### 图片中的计算步骤详解

我们要计算 $X + Y$，其中 $X = 2^7 \times \frac{29}{32}$ 和 $Y = 2^5 \times \frac{5}{8}$。

#### 1. 表示 X 和 Y (Representing X and Y)

首先，我们将 X 和 Y 转换为机器规定的浮点格式。

*   **对于 X:**
    *   **阶码** $E_X = 7$。
        *   7 的二进制是 `111`。因为阶码有3个数值位和2个符号位 (`ssxxx`)，所以正数 7 表示为 `00111`。
    *   **尾数** $M_X = \frac{29}{32}$。
        *   这是一个正纯小数。我们把它转换为二进制：$\frac{29}{32} = \frac{16+8+4+1}{32} = \frac{16}{32} + \frac{8}{32} + \frac{4}{32} + \frac{1}{32} = 0.5 + 0.25 + 0.125 + 0.03125$。
        *   二进制小数为 $0.11101_2$。
        *   尾数格式为 `ssfffff`，正数符号位为 `00`，所以表示为 `0011101`。

*   **对于 Y:**
    *   **阶码** $E_Y = 5$。
        *   5 的二进制是 `101`。表示为 `00101`。
    *   **尾数** $M_Y = \frac{5}{8}$。
        *   转换为二进制：$\frac{5}{8} = \frac{4+1}{8} = \frac{4}{8} + \frac{1}{8} = 0.5 + 0.125$。
        *   二进制小数为 $0.101_2$。
        *   尾数格式为 `ssfffff`，补全为 `0010100`。

#### 2. 对阶 (Aligning Exponents)

为了让尾数可以相加，我们必须使两个数的阶码相同。原则是**小阶向大阶看齐**。

*   计算阶差 $\Delta E = E_X - E_Y = 7 - 5 = 2$。
*   将 Y 的阶码增大 2 (从 5 变为 7)，为了保持 Y 的值不变，必须将其尾数右移 2 位（即除以 $2^2=4$）。
*   Y 的新尾数 $M_Y' = M_Y \times 2^{-2} = \frac{5}{8} \times \frac{1}{4} = \frac{5}{32}$。
*   在二进制上，对 $M_Y$ 的补码 `0010100` 进行**算术右移** 2 位。
    *   `0010100` >> 2 = `0000101`。
    *   这个新的二进制 `0000101` 代表的值是 $5 \times 2^{-5} = 5/32$，与计算结果一致。

现在，我们有了两个待加的数：
*   $X$: $E_X=7$ (`00111`), $M_X=\frac{29}{32}$ (`0011101`)
*   $Y$: $E_Y=7$ (`00111`), $M_Y'=\frac{5}{32}$ (`0000101`)

#### 3. 尾数相加 (Adding Mantissas)

直接将两个尾数的补码相加。

  `0011101`  ($M_X$)
+ `0000101`  ($M_Y'$)
-----------------
  `0100010`

*   **结果分析**：结果的符号位是 `01`。这表示两个正数相加导致了**正向溢出**。也就是说，结果 `34/32` 大于等于 1，超出了纯小数尾数所能表示的范围。、
