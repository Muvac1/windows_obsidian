 #计算页表所占内存 ：
    *   **问题示例**：对于本题中的一个进程，如果它实际使用了1000个页，那么为这个进程建立页表需要占用多少个物理页帧？
    *   **解法思路**：需要1个页目录表（总是占用1个页帧）。1000个页需要1000个PTE。由于1个二级页表（存放在1个页帧中）可以管理$2^9=512$个页，所以1000个页需要 $\lceil 1000/512 \rceil = 2$ 个二级页表，即占用2个页帧。总共需要 $1+2=3$ 个页帧。
[[计算页面的大小]]


| 特性       | **计算页面的大小**           | **计算页表所占内存**                           |
| :------- | :-------------------- | :------------------------------------- |
| **计算对象** | **一个基本内存单元**（页/Page）  | **一个管理数据结构**（页表/Page Table）            |
| **计算目的** | 确定系统中单次内存映射的**粒度**有多大 | 确定为了实现内存映射，其**元数据(Metadata)的开销**有多大    |
| **计算依据** | 虚拟地址结构中的**页内偏移量位数**   | **进程使用的页数量** 和 **页表的组织结构**（几级、每级能放多少项） |
| **结果单位** | 字节（Bytes, KB, MB）     | 物理页帧数（或者换算成字节）                         |

**两者之间的关联：**

这两个看似独立的计算其实是紧密相关的。**页面大小（第一个计算的结果）是第二个计算的一个重要输入！**

在你的例子中，为什么一个二级页表能放512个PTE？这通常是这样算出来的：
1.  我们先通过第一个计算，得知页面大小是 4KB（4096字节）。
2.  我们知道，页表本身也是存放在物理页帧里的，所以一个二级页表结构的大小不能超过4KB。
3.  假设每个PTE的大小是8字节。
4.  那么一个页面（4096字节）最多可以存放 $4096 / 8 = 512$ 个PTE。

你看，**正是因为页面大小是4KB，所以一个页表（如果它要装在一个页面里）才能恰好放下512个PTE**。第一个计算的结果决定了第二个计算中的一个关键参数。
