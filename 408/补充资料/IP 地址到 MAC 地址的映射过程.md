#IP地址到MAC地址的映射过程 
1.  **使用协议：ARP (Address Resolution Protocol)**
    *   当主机 `10.2.128.100` 准备好要发送的 IP 数据包后，它需要在数据链路层将其封装成以太网帧。
    *   它知道下一跳的 IP 地址是默认网关 `10.2.128.1`，但它需要知道该 IP 地址对应的 MAC 地址才能构建以太网帧头。
    *   **地址解析协议 (ARP)** 就是用来解决这个问题的。主机首先会检查自己的 ARP 缓存表，看是否已经有 `10.2.128.1` 的 MAC 地址记录。
    *   如果缓存中没有，它就会发起一个 ARP 请求。

2.  **ARP 请求的工作方式及目的 MAC 地址：**
    *   ARP 请求是一个广播消息，它问的是：“局域网里的各位，谁的 IP 地址是 `10.2.128.1`？请把你的 MAC 地址告诉我。”
    *   为了让局域网内所有设备都能收到这个请求，封装 ARP 请求的以太网帧必须使用 **广播 MAC 地址** 作为目的地址。
    *   **广播 MAC 地址是 `FF-FF-FF-FF-FF-FF`。**
    *   网关 `10.2.128.1` 收到这个广播后，会以单播的形式回复一个 ARP 应答，告诉主机它的 MAC 地址是 `00-21-27-51-EE-00`。主机收到后，更新自己的 ARP 缓存，并用这个 MAC 地址作为目的 MAC 来构建如图 47-b 所示的数据帧。