#上下文的定义 
一个进程的上下文（Context）可以抽象为一个状态集合$S$。
$$S=\{PC,SP,Registers,Flags,AddressSpace\}$$
其中，$PC$决定下一条指令，$SP$决定当前的栈帧，$AddressSpace$（如页表基址寄存器$CR3$）决定内存视野。

#进程调度 必然伴随着 #上下文切换 。
	考点可能包括：上下文切换的开销、切换时需要保存和恢复哪些信息（寄存器、程序计数器、堆栈指针、程序状态字等）。

#上下文切换  包括保存和恢复CPU寄存器、程序计数器、栈指针、更新进程控制块（PCB）、切换内存地址空间（如刷新TLB、切换页表基址寄存器CR3）。这些操作耗时较长，是操作系统性能的重要影响因素。 

[[模式切换vs上下文切换]]  
[[switch_to的工作原理]]  



 1. #中断上下文vs进程上下文
	 *   **问：** 能否在中断处理程序中直接调用 `schedule()` 进行切换？
	*   **点：** 通常不行（取决于 OS 设计，但多数分时系统不允许）。因为中断上下文“借用”了当前进程的内核栈，如果在中断中切换，可能导致后续中断处理逻辑无法正确返回，或者造成死锁。题目中的 `switch_to` 是发生在进程调度点，属于进程上下文。
