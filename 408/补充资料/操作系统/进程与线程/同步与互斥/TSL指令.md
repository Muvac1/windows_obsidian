#TSL指令 是一条 #原子操作 的硬件指令。它的功能可以描述为：
1.  读取一个内存位置（这里是`lock`）的当前值。
2.  向该内存位置写入一个固定的"真"值（通常是`TRUE`或`1`）。
3.  返回第一步读取到的**原始值**。
这三个步骤是**不可分割的 (atomic)**，意味着在它执行期间，其他任何指令都不能访问这个内存位置。