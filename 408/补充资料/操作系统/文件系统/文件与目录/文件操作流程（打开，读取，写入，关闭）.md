1. #文件操作流程（打开，读取，写入，关闭） 
* **`open()`**：
    1.  用户进程发起`open`系统调用，提供文件名和打开模式（如只读、读写等）。
    2.  操作系统内核根据文件名在目录结构中进行查找，找到对应的 #文件控制块FCB  
    3.  内核进行权限检查，看该进程是否有权以指定模式打开文件。
    4.  如果权限检查通过，内核会在内存中创建一个“打开文件表项”，并将磁盘上的FCB内容复制到这个表项中。此表项还包含其他信息，如当前读写位置（文件指针/偏移量）、打开计数等。
    5.  内核在进程自己的“文件描述符表”中创建一个条目，使其指向系统级的“打开文件表项”。
    6.  将该条目在进程文件描述符表中的索引（一个非负整数，即文件描述符$fd$）返回给用户进程。
	这个调用的作用是根据 **文件路径和名称** 打开一个文件。如果成功，内核会为这个打开的文件创建一个上下文（记录了读写位置、权限等信息），并返回一个小的非负整数给用户进程，这个整数就是 #文件描述符 (File Descriptor, fd)

*   **`read(fd, buffer, size)` / `write(fd, buffer, size)`**：
    1.  用户进程发起`read`或`write`系统调用，提供文件描述符$fd$、用户空间的缓冲区地址和要读/写的字节数。
    2.  内核使用$fd$在进程的文件描述符表中找到对应的打开文件表项。
    3.  根据打开文件表项中的FCB信息（数据块指针）和当前读写位置，计算出数据在磁盘上的物理地址。
    4.  发起磁盘I/O操作，将数据从磁盘读入内核缓冲区，或从内核缓冲区写入磁盘。
    5.  在`read`操作中，将数据从内核缓冲区复制到用户指定的`buffer`中。在`write`操作中，先将用户`buffer`中的数据复制到内核缓冲区。
    6.  更新打开文件表项中的读写位置。
    7.  返回实际读/写的字节数。
	- 当进程需要读取文件时，它使用的是 `open` 调用返回的 #文件描述符 $fd$，而不是文件的名称。`read` 函数的原型通常是这样的
		$ssize\_t \ read(int \ fd, void \ *buf, size\_t \ count)$
		*   $fd$: 文件描述符。
		*   $buf$: 指向用于存放读取数据的缓冲区的指针。
		*   $count$ 希望读取的最大字节数。
*   **`close(fd)`**：
    1.  用户进程发起`close`系统调用，提供文件描述符$fd$。
    2.  内核释放进程文件描述符表中与$fd$对应的条目。
    3.  将系统级打开文件表项中的打开计数减1。如果计数变为0（即没有其他进程在用这个文件），则将该表项释放，并可能将内存中修改过的FCB信息写回磁盘。
