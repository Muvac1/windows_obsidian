#用户态与核心态的状态切换
程序不能随心所欲地从用户态切换到核心态。这种切换必须通过一个严格控制的接口。从用户态切换到核心态主要有三种途径：
1.  **系统调用（System Call）**：这是用户程序**主动**请求操作系统提供服务的方式。例如，当你的程序要读一个文件时，它会调用像`read()`这样的函数，如 `INT n` (软件中断) 或 `SYSCALL`，这个函数内部会触发一个特定的“陷入指令”（trap），使CPU从用户态切换到核心态，然后由操作系统内核来完成实际的读文件操作。
2.  **异常（Exception）**：当用户程序在执行时发生错误，例如除以零、访问了非法的内存地址（如缺页），CPU会**被动**地捕获这个错误，并从用户态切换到核心态，交由操作系统内核中的异常处理程序来处理。
3.  **中断（Interrupt）**：由外部硬件设备产生的事件，例如键盘输入、鼠标移动、定时器（时钟）到时。当中断发生时，CPU会**被动**地暂停当前正在执行的程序（无论它在用户态还是核心态），并切换到核心态，转去执行操作系统内核中的中断处理程序。
