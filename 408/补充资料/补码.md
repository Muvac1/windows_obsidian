### 如何计算负数的补码（重点）

计算一个负数的补码，最常用、最简单的方法是“**取反加一**”。我们以之前例子中的 `-9` (在16位系统中) 为例来说明。

**目标：计算 -9 的16位补码**

#### 步骤 1：写出对应正数的二进制原码

首先，写出 **+9** 的二进制表示。因为我们是在16位的 `short` 类型下计算，所以需要写满16位，高位不足的用0填充。

*   9 的二进制是 `1001`。
*   写成16位是：`0000 0000 0000 1001`

这就是 **+9 的原码**，同时也是它的补码。

#### 步骤 2：按位取反 (Invert)

将这个16位二进制数的每一位都进行取反操作（0变成1，1变成0）。

*   `0000 0000 0000 1001`
*   取反后得到：`1111 1111 1111 0110`

这个结果被称为 **反码 (Ones' Complement)**。

#### 步骤 3：加一 (Add One)

在取反得到的结果（反码）的基础上，在最低位加 1。

```
  1111 1111 1111 0110  (反码)
+                   1
---------------------
  1111 1111 1111 0111
```

这个最终的结果 `11111111 11110111` 就是 **-9 的16位补码**。

### 总结与关键点

*   **符号位**：在补码表示中，最高位（最左边的一位）是符号位。`0` 代表正数或零，`1` 代表负数。
*   **位数很重要**：在计算补码之前，必须先确定是在多少位的系统下进行计算（例如8位、16位、32位）。同样的数值在不同位数下的补码表示是不同的（除了位数增加的部分）。
*   **零的唯一性**：在补码系统中，`0` 的表示是唯一的。对 `0` 取反加一，最终还是 `0`（会产生一个溢出被丢弃）。
*   **从补码求原值**：如果给你一个负数的补码（比如 `1111 1111 1111 0111`），想知道它的十进制值是多少，可以**再次执行“取反加一”**操作，得到其绝对值的二进制，然后加上负号即可。
    *   对 `1111 1111 1111 0111` 再次取反加一：
        1.  取反：`0000 0000 0000 1000`
        2.  加一：`0000 0000 0000 1001` (这是9的二进制)
    *   所以这个补码代表的十进制数就是 **-9**。

这个“取反加一”的流程是计算机硬件能够高效实现的基础，也是理解整型数据在内存中如何存储的关键。