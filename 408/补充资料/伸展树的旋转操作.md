#伸展树的旋转操作   [[伸展树]]
- **考点：** 给定一个特定的树结构，要求画出访问某个节点后的树形变化。
	*   **核心逻辑：**
		*   **Zig:** 简单的单旋（类似AVL），用于父节点是根的情况。
		*   **Zig-Zig（一字型）:** 当目标节点和父节点在同一侧（都是左孩子或都是右孩子）时，**先旋父节点，再旋目标节点**（这是Splay的关键，能将链折叠，减半深度）。
		*   **Zig-Zag（之字型）:** 当目标节点和父节点在异侧时，进行双旋（类似AVL的LR或RL旋转）。


- **问题：** 伸展树将节点移至根部使用了哪几种旋转模式？
	*   **答案：** 主要有三种情况（根据当前节点$x$、父节点$p$、祖父节点$g$的位置关系）：
		1.  **Zig** (单旋)：$p$是根节点。
		2.  **Zig-Zig** (一字型旋转)：$x$和$p$同为左孩子或同为右孩子。需要先旋转$p$，再旋转$x$（双旋）。
		3.  **Zig-Zag** (之字型旋转)：$x$是左孩子而$p$是右孩子，反之亦然。需要连续旋转$x$两次。
		*   *注意：考试通常不会考具体代码，但可能会问Zig-Zig操作不仅移动节点，还能起到什么作用？（答案：将链状结构折叠，使树的高度减半，起到平衡作用）。*
* **考点：** 在 Zig-Zig 情况下，必须**先旋转父节点，再旋转当前节点**。如果像普通 BST 那样只旋转当前节点两次，Splay 树的摊还复杂度证明就不成立了。  