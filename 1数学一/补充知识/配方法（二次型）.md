好的，针对二次型化简的 #配方法 （ #拉格朗日配方法 ），其核心逻辑是**“逐个消元”**。

不举具体数字例子，我们将解题步骤抽象为以下流程：
[[中间变量]]  [[中间变量去哪里了]] 
### 第一阶段：观察与判断

拿到一个二次型 $f(x_1, x_2, \dots, x_n)$，首先观察它的系数。主要看**平方项的系数**（即 $x_i^2$ 前面的系数 $a_{ii}$）。

这会产生两种情况，对应两种不同的起手式：

#### 情况 A：至少有一个平方项系数不为 0（最常见）
假设 $x_1^2$ 的系数 $a_{11} \neq 0$（如果不为 0 的是 $x_2$ 或其他，就先处理那个变量，逻辑一样）。

**操作步骤：**
1.  **分组**：将所有含有 $x_1$ 的项（包括 $x_1^2$ 和 $x_1x_k$ 交叉项）全部归拢到一起，剩下的不含 $x_1$ 的项放在一边。
2.  **提取系数**：把 $x_1^2$ 的系数 $a_{11}$ 提出来，让括号里的 $x_1^2$ 系数为 1。
3.  **配方**：利用完全平方公式 $(a+b+c+\dots)^2$，在括号内凑出以 $x_1$ 为主的完全平方。
    *   此时重点看交叉项的系数，将其除以 2，放入括号内。
4.  **平账**：因为凑平方时多加了常数项（即后面几项的平方），必须在括号外**减去**这些多出来的项，以保持等式恒等。
5.  **整理**：此时式子变成了 $k_1(\dots)^2 + g(x_2, \dots, x_n)$。原来的 $x_1$ 已经被“锁”在第一个括号里了，后面的残余部分 $g$ 不再含有 $x_1$。

#### 情况 B：所有平方项系数全为 0，但有交叉项（较少见）
即 $a_{11}=a_{22}=\dots=0$，但存在 $a_{12} \neq 0$。此时无法直接配方。

**操作步骤：**
1.  **创造平方项**：实施一个预备变换。选取含有交叉项的两个变量（如 $x_1, x_2$），令：
    $$
    \begin{cases}
    x_1 = y_1 + y_2 \\
    x_2 = y_1 - y_2 \\
    x_3 = y_3 \\
    \dots
    \end{cases}
    $$
2.  **代入整理**：将上述变换代入原式。因为 $x_1x_2 = (y_1+y_2)(y_1-y_2) = y_1^2 - y_2^2$，这就人为制造出了平方项。
3.  **转回情况 A**：现在有了平方项，回到情况 A 的步骤继续进行。

---

### 第二阶段：循环迭代

完成第一阶段后，你得到了第一个平方项和剩余部分（剩余部分只含有 $n-1$ 个变量）。

1.  **重复操作**：对剩余部分 $g(x_2, \dots, x_n)$ 重复上述“情况 A”的操作。
2.  **逐个击破**：
    *   处理 $x_2$，把含 $x_2$ 的项配成平方，把残余项扔到后面。
    *   处理 $x_3$，以此类推。
3.  **终止条件**：直到式子中不再含有任何交叉项，全部变成了 $k_i(\dots)^2$ 的形式。

---

### 第三阶段：写出变换矩阵（换元）

经过上面的步骤，原式 $f$ 已经化成了类似这样的形式：
$$f = d_1(\text{含}x_1\text{的式子})^2 + d_2(\text{含}x_2\text{的式子})^2 + \dots + d_r(\text{含}x_r\text{的式子})^2$$

1.  **定义新变量**：
    令 $y_1 = \text{第1个括号内的式子}$
    令 $y_2 = \text{第2个括号内的式子}$
    ...
    令 $y_r = \text{第r个括号内的式子}$

2.  **补全维数（重要）**：
    *   如果配出来的平方项个数 $r$ 等于变量总数 $n$，则直接写出线性变换关系。
    *   如果 $r < n$（说明二次型秩不满），必须人为补充变量 $y_{r+1}, \dots, y_n$。
    *   通常令 $y_{k} = x_{k}$ （取原变量中尚未被单独定义的变量），以确保变换矩阵是 $n \times n$ 的可逆方阵。

3.  **求出矩阵 $C$**：
    你得到的是一组 $y$ 关于 $x$ 的方程组，写成矩阵形式就是 $y = Cx$。
    *   注意：题目如果求 $x = Py$，则需要计算 $P = C^{-1}$。

### 总结

配方法的解题口诀：
1.  **选主元**（找有平方项的变量）。
2.  **全归拢**（含该变量的项全抓起来）。
3.  **配平方**（凑完全平方公式）。
4.  **减多余**（减去多算的常数项）。
5.  **理残余**（对剩下的部分重复上述步骤）。
6.  **换新元**（令括号内为新变量，缺项则补项）。