在考试（如考研数学、期末考试）中，出题人非常“狡猾”，他们会通过**题目中的关键词**来指定你必须用哪种方法。

如果用错了方法（比如题目让你求正交变换，你却用了配方法），即使最后化成了标准形，也是**0分**。

下面我设计两个典型的考题，针对同一个二次型，展示两种不同的考法、解法以及**“坑点”**。

---

### 设定二次型
假设二次型为：
$$ f(x_1, x_2) = x_1^2 + 4x_1x_2 - 2x_2^2 $$

---

### 考法一：一般的非退化线性替换（配方法）

**题目描述：**
> 求一个**可逆线性变换** $\mathbf{x} = C\mathbf{y}$，将二次型化为**标准形**（或规范形）。

**解题思路：**
看到“可逆线性变换”或没提“正交”二字，**千万别去求特征值！** 直接用**配方法**，这是最快的方式。

**解答过程：**
1.  **配方**（目标是凑成平方项）：
    由于有 $x_1^2$，我们把含 $x_1$ 的项合起来：
    $$ f = (x_1^2 + 4x_1x_2 + 4x_2^2) - 4x_2^2 - 2x_2^2 $$
    $$ f = (x_1 + 2x_2)^2 - 6x_2^2 $$

2.  **令新变量**：
    令 $\begin{cases} y_1 = x_1 + 2x_2 \\ y_2 = x_2 \end{cases}$

3.  **求变换矩阵 $C$**：
    注意！题目要求的是 $\mathbf{x} = C\mathbf{y}$，所以必须把 $x$ 用 $y$ 表示出来（解方程组）：
    $$ \begin{cases} x_1 = y_1 - 2y_2 \\ x_2 = y_2 \end{cases} $$
    写成矩阵形式：
    $$ \begin{pmatrix} x_1 \\ x_2 \end{pmatrix} = \begin{pmatrix} 1 & -2 \\ 0 & 1 \end{pmatrix} \begin{pmatrix} y_1 \\ y_2 \end{pmatrix} $$
    即 $C = \begin{pmatrix} 1 & -2 \\ 0 & 1 \end{pmatrix}$。

4.  **最终标准形**：
    $$ f = y_1^2 - 6y_2^2 $$

**🚨 坑点警示：**
1.  **系数不是特征值**：你看，这里的系数是 $1$ 和 $-6$。如果你去算矩阵 $A = \begin{pmatrix} 1 & 2 \\ 2 & -2 \end{pmatrix}$ 的特征值，会发现是 $2$ 和 $-3$。完全不一样！但正负号个数（正1负1）是一样的。
2.  **变换方向搞反**：很多同学算出了 $y_1 = x_1 + 2x_2$，直接把 $\begin{pmatrix} 1 & 2 \\ 0 & 1 \end{pmatrix}$ 当作 $C$。大错特错！那是 $C^{-1}$。题目问 $\mathbf{x}=C\mathbf{y}$，你必须反解出 $x$。
3.  **结果不唯一**：你也可以先配 $x_2$，得到的标准形系数可能就不一样了，但这在考试中是允许的（除非求规范形）。

---

### 考法二：正交变换法（特征值法）

**题目描述：**
> 求一个**正交变换** $\mathbf{x} = Q\mathbf{y}$，将二次型化为**标准形**。

**解题思路：**
看到“正交变换”四个字，**必须**走“求特征值 -> 求特征向量 -> 施密特正交化 -> 单位化”的流程。

**解答过程：**
1.  **写出矩阵 $A$**：
    $$ f = x_1^2 + 4x_1x_2 - 2x_2^2 \implies A = \begin{pmatrix} 1 & 2 \\ 2 & -2 \end{pmatrix} $$
    *(注意：中间项 $4x_1x_2$ 要除以 2 分给 $a_{12}$ 和 $a_{21}$)*

2.  **求特征值**：
    $$ |\lambda I - A| = \begin{vmatrix} \lambda - 1 & -2 \\ -2 & \lambda + 2 \end{vmatrix} = (\lambda-1)(\lambda+2) - 4 = \lambda^2 + \lambda - 6 = 0 $$
    $$ (\lambda - 2)(\lambda + 3) = 0 $$
    特征值 $\lambda_1 = 2, \lambda_2 = -3$。
    **此时标准形已经确定了：** $f = 2y_1^2 - 3y_2^2$。

3.  **求特征向量并单位化**（构造 $Q$）：
    *   当 $\lambda_1 = 2$：解 $(2I-A)x=0$，得 $\xi_1 = \begin{pmatrix} 2 \\ 1 \end{pmatrix}$。单位化 $\to \mathbf{q_1} = \frac{1}{\sqrt{5}}\begin{pmatrix} 2 \\ 1 \end{pmatrix}$。
    *   当 $\lambda_2 = -3$：解 $(-3I-A)x=0$，得 $\xi_2 = \begin{pmatrix} -1 \\ 2 \end{pmatrix}$。单位化 $\to \mathbf{q_2} = \frac{1}{\sqrt{5}}\begin{pmatrix} -1 \\ 2 \end{pmatrix}$。

4.  **写出变换矩阵 $Q$**：
    $$ Q = (\mathbf{q_1}, \mathbf{q_2}) = \begin{pmatrix} \frac{2}{\sqrt{5}} & \frac{-1}{\sqrt{5}} \\ \frac{1}{\sqrt{5}} & \frac{2}{\sqrt{5}} \end{pmatrix} $$

**🚨 坑点警示：**
1.  **忘记单位化**：正交矩阵 $Q$ 的列向量必须是**单位**向量（长度为1）。如果你直接用 $(2, 1)^T$ 构造矩阵，那就不是正交变换了，只是普通变换，得不到 $\lambda_i y_i^2$ 的形式。
2.  **次序对应错误**：如果你写的标准形是 $2y_1^2 - 3y_2^2$，那么矩阵 $Q$ 的第一列必须是对应 $\lambda=2$ 的特征向量。列的顺序弄反了，变换就是错的。
3.  **中间项没除以2**：常有同学把矩阵写成 $\begin{pmatrix} 1 & 4 \\ 4 & -2 \end{pmatrix}$，导致特征值全算错。

---

### 总结：考试该怎么看题？

| 题目关键词 | **只需化为标准形 / 可逆变换 / 配方法** | **正交变换 / 主轴 / 几何意义** |
| :--- | :--- | :--- |
| **你的反应** | **配方法 (Lagrange)** | **特征值法** |
| **计算量** | 小，手算快 | 大，涉及根号 |
| **结果系数** | 随意（只要惯性指数对） | **必须是特征值** |
| **矩阵构造** | 需反解方程组得到 $x=Cy$ | 特征向量单位化排队 |
| **唯一性** | 不唯一 | 标准形系数唯一 (不计顺序) |

**终极判断口诀：**
> 题目有 **“正交”** 二字，或是求几何形状（如椭圆长短轴），死磕**特征值**。
> 题目**没提**“正交”，只要标准形，直接**配方**保平安。