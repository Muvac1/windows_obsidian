好的，我们来详细分析这道题的两种解法及其涉及的知识点。

### 问题分析

题目要求计算函数 $f(x)=x\int_{1}^{x}\frac{e^{t^2}}{t}dt$ 在区间 $(0, 1)$ 上的平均值。

根据函数平均值的定义，函数 $g(x)$ 在区间 $[a, b]$ 上的平均值为：
$\bar{g}=\frac{1}{b-a}\int_{a}^{b}g(x)dx$

因此，本题所求的平均值 $\bar{f}$ 为：
$\bar{f}=\frac{1}{1-0}\int_{0}^{1}f(x)dx=\int_{0}^{1}\left(x\int_{1}^{x}\frac{e^{t^2}}{t}dt\right)dx$

核心就是计算这个定积分。

---

### 【解析】方法一：分部积分法

这种方法将原积分看作一个整体，使用分部积分法求解。

**推导步骤：**

1.  **凑微分**:
    为了使用分部积分法，我们注意到被积函数中有一个因子 $x$。我们可以将其与 $dx$ 结合，凑成 $d(x^2)$。
    因为 $d(x^2)=2xdx$，所以 $xdx=\frac{1}{2}d(x^2)$。
    原积分可以写作：
    $\bar{f}=\int_{0}^{1}\left(\int_{1}^{x}\frac{e^{t^2}}{t}dt\right)(xdx)=\frac{1}{2}\int_{0}^{1}\left(\int_{1}^{x}\frac{e^{t^2}}{t}dt\right)d(x^2)$

2.  **分部积分**:
    使用分部积分公式 $\int u dv = uv - \int v du$。
    令 $u=\int_{1}^{x}\frac{e^{t^2}}{t}dt$ 且 $dv=d(x^2)$。
    那么 $v=x^2$。
    对 $u$ 求微分 $du$，这里需要用到**变限积分求导（微积分基本定理）**：
    $\frac{d}{dx}\left(\int_{a(x)}^{b(x)}g(t)dt\right)=g(b(x))b'(x)-g(a(x))a'(x)$
    在本题中，$du=d\left(\int_{1}^{x}\frac{e^{t^2}}{t}dt\right)=\left(\frac{e^{x^2}}{x}\right)dx$。

3.  **代入公式**:
    $\bar{f}=\frac{1}{2}\left[\left(\int_{1}^{x}\frac{e^{t^2}}{t}dt\right)x^2\bigg|_{0}^{1}-\int_{0}^{1}x^2\left(\frac{e^{x^2}}{x}dx\right)\right]$

4.  **计算**:
    *   计算第一部分 $uv\big|_{0}^{1}$：
        当 $x=1$ 时，$\left(\int_{1}^{1}\frac{e^{t^2}}{t}dt\right)\cdot 1^2 = 0 \cdot 1 = 0$。
        当 $x=0$ 时，$\left(\int_{1}^{0}\frac{e^{t^2}}{t}dt\right)\cdot 0^2 = 0$。
        所以第一部分为 $0-0=0$。
    *   计算第二部分 $\int v du$：
        $\int_{0}^{1}x^2\left(\frac{e^{x^2}}{x}dx\right)=\int_{0}^{1}xe^{x^2}dx$
        这个积分可以通过换元法求解。令 $w=x^2$，则 $dw=2xdx$，即 $xdx=\frac{1}{2}dw$。
        $\int_{0}^{1}xe^{x^2}dx=\int_{0^2}^{1^2}e^w\frac{1}{2}dw=\frac{1}{2}\int_{0}^{1}e^w dw=\frac{1}{2}[e^w]_0^1=\frac{1}{2}(e^1-e^0)=\frac{1}{2}(e-1)$

5.  **合并结果**:
    $\bar{f}=\frac{1}{2}\left[0-\frac{1}{2}(e-1)\right]=-\frac{1}{4}(e-1)$

**涉及的知识点：**
1.  **函数平均值定义**
2.  **分部积分法**
3.  **变限积分求导（微积分基本定理）**
4.  **定积分的换元法**

---

### 方法二：交换积分次序（二重积分）

这种方法将原有的累次积分看作一个二重积分，然后通过交换积分次序来简化计算。

**推导步骤：**

1.  **化为二重积分**:
    首先，为了方便处理积分区域，我们将变限积分 $\int_{1}^{x}$ 的上下限反转，因为在 $(0,1)$ 上 $x<1$。
    $\int_{1}^{x}\frac{e^{t^2}}{t}dt = -\int_{x}^{1}\frac{e^{t^2}}{t}dt$
    所以原积分为：
    $\bar{f}=\int_{0}^{1}x\left(-\int_{x}^{1}\frac{e^{t^2}}{t}dt\right)dx = -\int_{0}^{1}\int_{x}^{1}x\frac{e^{t^2}}{t}dtdx$
    这可以看作是在一个二维区域 $D$ 上的二重积分：
    $\bar{f}=-\iint_D x\frac{e^{t^2}}{t}dA$
    其中积分区域 $D$ 由不等式 $0 \le x \le 1$ 和 $x \le t \le 1$ 确定。这个区域是一个由点 $(0,0)$, $(1,1)$ 和 $(0,1)$ 构成的三角形。

2.  **交换积分次序**:
    原来的积分次序是先对 $t$ 积分（从 $t=x$ 到 $t=1$），再对 $x$ 积分（从 $x=0$ 到 $x=1$）。
    现在我们交换次序，先对 $x$ 积分，再对 $t$ 积分。
    观察区域 $D$，我们可以将其描述为 $0 \le t \le 1$ 和 $0 \le x \le t$。
    因此，交换次序后的积分为：
    $\bar{f}=-\int_{0}^{1}\left(\int_{0}^{t}x\frac{e^{t^2}}{t}dx\right)dt$

3.  **计算内层积分**:
    先计算关于 $x$ 的积分，此时 $t$ 被视为常数。
    $\int_{0}^{t}x\frac{e^{t^2}}{t}dx = \frac{e^{t^2}}{t}\int_{0}^{t}xdx = \frac{e^{t^2}}{t}\left[\frac{1}{2}x^2\right]_0^t = \frac{e^{t^2}}{t}\left(\frac{1}{2}t^2-0\right)=\frac{1}{2}te^{t^2}$

4.  **计算外层积分**:
    将内层积分的结果代入外层积分：
    $\bar{f}=-\int_{0}^{1}\frac{1}{2}te^{t^2}dt = -\frac{1}{2}\int_{0}^{1}te^{t^2}dt$
    这个积分和方法一中最后得到的积分是一样的。同样使用换元法，令 $w=t^2$，$dw=2tdt$。
    $\bar{f}=-\frac{1}{2}\cdot\frac{1}{2}\int_{0}^{1}e^w dw = -\frac{1}{4}[e^w]_0^1 = -\frac{1}{4}(e^1-e^0)=-\frac{1}{4}(e-1)$

**涉及的知识点：**
1.  **函数平均值定义**
2.  **累次积分与二重积分的转化**
3.  **二重积分交换积分次序（Fubini 定理）**
4.  **定积分的换元法**

两种方法殊途同归，都得到了正确答案，但考察的侧重点不同。方法一更侧重于对变限积分函数和分部积分的综合运用，而方法二侧重于二重积分的计算技巧。